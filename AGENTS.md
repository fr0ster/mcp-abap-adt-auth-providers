# Repository Guidelines

## Project Structure & Module Organization

- `src/` contains TypeScript source; key areas include `src/providers/` for token providers, `src/auth/` for OAuth flows, and `src/errors/` for typed errors.
- `src/__tests__/` holds Jest unit tests (`*.test.ts`).
- `bin/` contains CLI entry points such as `auth-client-credentials.ts`.
- `tests/` holds integration configuration templates like `tests/test-config.yaml.template`.
- `dist/` is the compiled output (generated by build).
- `docs/` and `tools/` contain supporting docs and scripts.

## Build, Test, and Development Commands

- `npm run build`: clean, lint with Biome, then compile to `dist/`.
- `npm run build:fast`: compile without lint/clean.
- `npm run lint` / `npm run lint:check`: format+lint or lint-only with Biome.
- `npm run format`: apply Biome formatting to `src/`.
- `npm test`: run Jest with `ts-jest` in Node.
- `npm run test:check`: TypeScript type check only.
- `npm run chrono`: run `tools/version-stats.sh` for version stats.

## Coding Style & Naming Conventions

- Indentation: 2 spaces; quotes: single; semicolons: always (see `biome.json`).
- Organize imports via Biome (auto-fix is on).
- Tests: `src/__tests__/**/*.test.ts` naming pattern.

## Testing Guidelines

- Framework: Jest with `ts-jest` (`jest.config.js`).
- Coverage reports go to `coverage/`; no explicit thresholds are enforced.
- For integration tests, copy `tests/test-config.yaml.template` to `tests/test-config.yaml` and keep secrets out of git.

## Commit & Pull Request Guidelines

- Commit messages follow a loose Conventional Commits style (`feat:`, `chore:`, etc.), with version bumps sometimes recorded as plain `0.x.y`.
- PRs should include a clear description, rationale, and tests run (or note if not run).
- Link related issues and update `CHANGELOG.md` when behavior or public API changes.

## Security & Configuration Tips

- Do not commit secrets. Use `tests/test-config.yaml` (gitignored) and `tokens.env` for local credentials.
- Keep any new config templates in `tests/` or `docs/` with placeholder values.
